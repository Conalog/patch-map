import { clone } from './utils.js';

const plantOpsData = [
  {
    type: 'group',
    id: 'plant-1',
    label: 'Plant Alpha',
    attrs: { x: 80, y: 80 },
    children: [
      {
        type: 'grid',
        id: 'grid-panels',
        label: 'Array A',
        cells: [
          [1, 0, 1],
          [1, 1, 1],
        ],
        gap: 4,
        item: {
          size: { width: 40, height: 80 },
          padding: { x: 6, y: 6 },
          components: [
            {
              type: 'background',
              id: 'panel-bg',
              source: {
                type: 'rect',
                fill: 'white',
                borderWidth: 2,
                borderColor: 'primary.dark',
                radius: 4,
              },
              tint: 'white',
            },
            {
              type: 'bar',
              id: 'panel-metric',
              source: { type: 'rect', fill: 'primary.default', radius: 4 },
              size: { width: '100%', height: '60%' },
              placement: 'bottom',
            },
            { type: 'icon', source: 'loading', tint: 'black', size: 16 },
          ],
        },
        attrs: { x: 0, y: 0 },
      },
      {
        type: 'item',
        id: 'icon-beacon',
        label: 'Beacon',
        size: 56,
        components: [
          {
            type: 'icon',
            source: 'wifi',
            size: 36,
            tint: 'primary.default',
          },
        ],
        attrs: { x: 170, y: 18 },
      },
      {
        type: 'item',
        id: 'icon-inverter',
        label: 'Inverter Icon',
        size: 56,
        components: [
          {
            type: 'icon',
            source: 'inverter',
            size: 36,
            tint: 'primary.default',
          },
        ],
        attrs: { x: 250, y: 18 },
      },
      {
        type: 'grid',
        id: 'grid-panels-lite',
        label: 'Array B',
        cells: [
          [1, 1, 1],
          [1, 0, 1],
        ],
        gap: 4,
        item: {
          size: { width: 40, height: 80 },
          padding: { x: 6, y: 6 },
          components: [
            {
              type: 'background',
              id: 'panel-bg',
              source: {
                type: 'rect',
                fill: 'white',
                borderWidth: 2,
                borderColor: 'primary.dark',
                radius: 4,
              },
              tint: 'white',
            },
            {
              type: 'bar',
              id: 'panel-metric',
              source: { type: 'rect', fill: 'primary.default', radius: 4 },
              size: { width: '100%', height: '45%' },
              placement: 'bottom',
            },
          ],
        },
        attrs: { x: 0, y: 200 },
      },
      {
        type: 'grid',
        id: 'grid-panels-mini',
        label: 'Array D',
        cells: [
          [1, 1, 1],
          [0, 1, 1],
        ],
        gap: 4,
        item: {
          size: { width: 40, height: 80 },
          padding: { x: 6, y: 6 },
          components: [
            {
              type: 'background',
              id: 'panel-bg',
              source: {
                type: 'rect',
                fill: 'white',
                borderWidth: 2,
                borderColor: 'primary.dark',
                radius: 4,
              },
              tint: 'white',
            },
            {
              type: 'bar',
              id: 'panel-metric',
              source: { type: 'rect', fill: 'primary.default', radius: 4 },
              size: { width: '100%', height: '35%' },
              placement: 'bottom',
            },
          ],
        },
        attrs: { x: 0, y: 380 },
      },
      {
        type: 'grid',
        id: 'grid-panels-tilt',
        label: 'Array C',
        cells: [
          [1, 1, 0],
          [1, 1, 1],
        ],
        gap: 4,
        item: {
          size: { width: 40, height: 80 },
          padding: { x: 6, y: 6 },
          components: [
            {
              type: 'background',
              id: 'panel-bg',
              source: {
                type: 'rect',
                fill: 'white',
                borderWidth: 2,
                borderColor: 'primary.dark',
                radius: 4,
              },
              tint: 'white',
            },
            {
              type: 'bar',
              id: 'panel-metric',
              source: { type: 'rect', fill: 'primary.default', radius: 4 },
              size: { width: '100%', height: '70%' },
              placement: 'bottom',
            },
            { type: 'icon', source: 'loading', tint: 'black', size: 16 },
          ],
        },
        attrs: { x: 160, y: 220, angle: -12 },
      },
      {
        type: 'grid',
        id: 'grid-panels-tilt-2',
        label: 'Array E',
        cells: [
          [1, 1, 1],
          [1, 1, 0],
        ],
        gap: 4,
        item: {
          size: { width: 40, height: 80 },
          padding: { x: 6, y: 6 },
          components: [
            {
              type: 'background',
              id: 'panel-bg',
              source: {
                type: 'rect',
                fill: 'white',
                borderWidth: 2,
                borderColor: 'primary.dark',
                radius: 4,
              },
              tint: 'white',
            },
            {
              type: 'bar',
              id: 'panel-metric',
              source: { type: 'rect', fill: 'primary.default', radius: 4 },
              size: { width: '100%', height: '55%' },
              placement: 'bottom',
            },
            { type: 'icon', source: 'loading', tint: 'black', size: 16 },
          ],
        },
        attrs: { x: 160, y: 440, angle: 10 },
      },
      {
        type: 'item',
        id: 'inverter-1',
        label: 'Inverter 01',
        size: { width: 210, height: 120 },
        padding: { x: 12, y: 10 },
        components: [
          {
            type: 'background',
            id: 'bg-inverter-1',
            source: {
              type: 'rect',
              fill: 'white',
              borderWidth: 2,
              borderColor: 'primary.default',
              radius: 12,
            },
            tint: 'gray.light',
          },
          {
            type: 'icon',
            id: 'icon-inverter-1',
            source: 'inverter',
            size: 30,
            placement: 'left-top',
            margin: { left: 4, top: 4 },
            tint: 'primary.default',
          },
          {
            type: 'text',
            id: 'text-inverter-1-title',
            text: 'INV-01',
            placement: 'left-top',
            margin: { left: 44, top: 6 },
            style: { fontSize: 16, fill: 'black' },
          },
          {
            type: 'text',
            id: 'text-inverter-1-status',
            text: 'Nominal',
            placement: 'left-bottom',
            margin: { left: 44, bottom: 8 },
            style: { fontSize: 12, fill: 'gray.dark' },
          },
          {
            type: 'text',
            id: 'text-inverter-1-metric',
            text: 'Load 42%',
            placement: 'right-bottom',
            margin: { right: 12, bottom: 8 },
            style: { fontSize: 12, fill: 'gray.dark' },
          },
          {
            type: 'bar',
            id: 'bar-inverter-1',
            source: { type: 'rect', fill: 'primary.default', radius: 6 },
            size: { width: '42%', height: 10 },
            placement: 'bottom',
            margin: { left: 12, right: 12, bottom: 30 },
          },
        ],
        attrs: { x: 330, y: 0 },
      },
      {
        type: 'item',
        id: 'inverter-2',
        label: 'Inverter 02',
        size: { width: 210, height: 120 },
        padding: { x: 12, y: 10 },
        components: [
          {
            type: 'background',
            id: 'bg-inverter-2',
            source: {
              type: 'rect',
              fill: 'white',
              borderWidth: 2,
              borderColor: 'primary.default',
              radius: 12,
            },
            tint: 'gray.light',
          },
          {
            type: 'icon',
            id: 'icon-inverter-2',
            source: 'inverter',
            size: 30,
            placement: 'left-top',
            margin: { left: 4, top: 4 },
            tint: 'primary.default',
          },
          {
            type: 'text',
            id: 'text-inverter-2-title',
            text: 'INV-02',
            placement: 'left-top',
            margin: { left: 44, top: 6 },
            style: { fontSize: 16, fill: 'black' },
          },
          {
            type: 'text',
            id: 'text-inverter-2-status',
            text: 'Nominal',
            placement: 'left-bottom',
            margin: { left: 44, bottom: 8 },
            style: { fontSize: 12, fill: 'gray.dark' },
          },
          {
            type: 'text',
            id: 'text-inverter-2-metric',
            text: 'Load 58%',
            placement: 'right-bottom',
            margin: { right: 12, bottom: 8 },
            style: { fontSize: 12, fill: 'gray.dark' },
          },
          {
            type: 'bar',
            id: 'bar-inverter-2',
            source: { type: 'rect', fill: 'primary.default', radius: 6 },
            size: { width: '58%', height: 10 },
            placement: 'bottom',
            margin: { left: 12, right: 12, bottom: 30 },
          },
        ],
        attrs: { x: 330, y: 140 },
      },
      {
        type: 'item',
        id: 'gateway-1',
        label: 'Gateway',
        size: { width: 220, height: 120 },
        padding: { x: 12, y: 10 },
        components: [
          {
            type: 'background',
            id: 'bg-gateway-1',
            source: {
              type: 'rect',
              fill: 'white',
              borderWidth: 2,
              borderColor: 'gray.dark',
              radius: 14,
            },
            tint: 'gray.light',
          },
          {
            type: 'icon',
            id: 'icon-gateway-1',
            source: 'edge',
            size: 32,
            placement: 'left-top',
            margin: { left: 4, top: 4 },
            tint: 'primary.default',
          },
          {
            type: 'text',
            id: 'text-gateway-1-title',
            text: 'Gateway',
            placement: 'left-top',
            margin: { left: 48, top: 6 },
            style: { fontSize: 16, fill: 'black' },
          },
          {
            type: 'text',
            id: 'text-gateway-1-status',
            text: 'Online',
            placement: 'left-bottom',
            margin: { left: 48, bottom: 8 },
            style: { fontSize: 12, fill: 'gray.dark' },
          },
          {
            type: 'text',
            id: 'text-gateway-1-metric',
            text: 'Throughput 73%',
            placement: 'right-bottom',
            margin: { right: 12, bottom: 8 },
            style: { fontSize: 12, fill: 'gray.dark' },
          },
          {
            type: 'bar',
            id: 'bar-gateway-1',
            source: { type: 'rect', fill: 'primary.default', radius: 6 },
            size: { width: '73%', height: 10 },
            placement: 'bottom',
            margin: { left: 12, right: 12, bottom: 30 },
          },
        ],
        attrs: { x: 600, y: 70 },
      },
    ],
  },
  {
    type: 'item',
    id: 'ops-console',
    label: 'Ops Console',
    size: { width: 260, height: 120 },
    padding: { x: 16, y: 12 },
    components: [
      {
        type: 'background',
        id: 'bg-ops-console',
        source: {
          type: 'rect',
          fill: 'white',
          borderWidth: 2,
          borderColor: 'primary.default',
        },
        tint: 'gray.light',
      },
      {
        type: 'icon',
        id: 'icon-ops-console',
        source: 'object',
        size: 34,
        placement: 'left-top',
        margin: { left: 6, top: 6 },
        tint: 'primary.default',
      },
      {
        type: 'text',
        id: 'text-ops-title',
        text: 'Ops Console',
        placement: 'left-top',
        margin: { left: 52, top: 8 },
        style: { fontSize: 16, fill: 'black' },
      },
      {
        type: 'text',
        id: 'text-ops-status',
        text: 'Queue 4 tasks',
        placement: 'left-bottom',
        margin: { left: 52, bottom: 10 },
        style: { fontSize: 12, fill: 'gray.dark' },
      },
      {
        type: 'bar',
        id: 'bar-ops-queue',
        source: { type: 'rect', fill: 'primary.default', radius: 6 },
        size: { width: '40%', height: 10 },
        placement: 'bottom',
        margin: { left: 14, right: 14, bottom: 34 },
      },
    ],
    attrs: { x: 480, y: 560 },
  },
  {
    type: 'relations',
    id: 'rel-power',
    links: [
      { source: 'grid-panels.0.0', target: 'grid-panels.1.0' },
      { source: 'grid-panels.1.0', target: 'grid-panels.1.1' },
      { source: 'grid-panels.1.1', target: 'grid-panels.1.2' },
      { source: 'grid-panels.0.2', target: 'grid-panels.1.2' },
    ],
    style: { width: 3, color: 'primary.default' },
  },
];

export const examplePlantOps = {
  id: 'plant-ops',
  name: 'Example 1',
  description: '',
  data: () => clone(plantOpsData),
  focusId: 'gateway-1',
  dynamic: {
    bars: [
      {
        path: '$..[?(@.id=="panel-metric")]',
        axis: 'height',
        min: 10,
        max: 100,
        width: '100%',
      },
      {
        id: 'bar-inverter-1',
        textId: 'text-inverter-1-metric',
        label: 'Load',
        min: 20,
        max: 95,
        height: 10,
      },
      {
        id: 'bar-inverter-2',
        textId: 'text-inverter-2-metric',
        label: 'Load',
        min: 20,
        max: 95,
        height: 10,
      },
      {
        id: 'bar-gateway-1',
        textId: 'text-gateway-1-metric',
        label: 'Throughput',
        min: 10,
        max: 100,
        height: 10,
      },
      {
        id: 'bar-ops-queue',
        textId: 'text-ops-status',
        label: 'Queue',
        unit: ' tasks',
        min: 10,
        max: 85,
        height: 10,
      },
    ],
    statuses: [
      {
        backgroundId: 'bg-inverter-1',
        iconId: 'icon-inverter-1',
        textId: 'text-inverter-1-status',
        ok: {
          tint: 'gray.light',
          icon: 'inverter',
          iconTint: 'primary.default',
          text: 'Nominal',
          textTint: 'gray.dark',
        },
        alert: {
          tint: 'primary.accent',
          icon: 'warning',
          iconTint: 'primary.accent',
          text: 'Overheat',
          textTint: 'primary.accent',
        },
      },
      {
        backgroundId: 'bg-inverter-2',
        iconId: 'icon-inverter-2',
        textId: 'text-inverter-2-status',
        ok: {
          tint: 'gray.light',
          icon: 'inverter',
          iconTint: 'primary.default',
          text: 'Nominal',
          textTint: 'gray.dark',
        },
        alert: {
          tint: 'primary.accent',
          icon: 'warning',
          iconTint: 'primary.accent',
          text: 'Overheat',
          textTint: 'primary.accent',
        },
      },
      {
        backgroundId: 'bg-gateway-1',
        iconId: 'icon-gateway-1',
        textId: 'text-gateway-1-status',
        ok: {
          tint: 'gray.light',
          icon: 'edge',
          iconTint: 'primary.default',
          text: 'Online',
          textTint: 'gray.dark',
        },
        alert: {
          tint: 'primary.accent',
          icon: 'warning',
          iconTint: 'primary.accent',
          text: 'Link Loss',
          textTint: 'primary.accent',
        },
      },
    ],
    relationsId: 'rel-power',
    linkSets: [
      [
        { source: 'grid-panels.0.0', target: 'grid-panels.1.0' },
        { source: 'grid-panels.1.0', target: 'grid-panels.1.1' },
        { source: 'grid-panels.1.1', target: 'grid-panels.1.2' },
        { source: 'grid-panels.0.2', target: 'grid-panels.1.2' },
      ],
      [
        { source: 'grid-panels.0.0', target: 'grid-panels.1.0' },
        { source: 'grid-panels.1.0', target: 'grid-panels.1.1' },
      ],
      [
        { source: 'grid-panels.0.2', target: 'grid-panels.1.2' },
        { source: 'grid-panels.1.2', target: 'grid-panels.1.1' },
      ],
    ],
  },
};
