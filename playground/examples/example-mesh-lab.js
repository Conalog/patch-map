import { clone } from './utils.js';

const meshData = [
  {
    type: 'group',
    id: 'mesh-1',
    label: 'Edge Mesh',
    attrs: { x: 80, y: 80 },
    children: [
      {
        type: 'item',
        id: 'node-a',
        label: 'Node A',
        size: { width: 180, height: 110 },
        padding: { x: 12, y: 10 },
        components: [
          {
            type: 'background',
            id: 'bg-node-a',
            source: {
              type: 'rect',
              fill: 'white',
              borderWidth: 2,
              borderColor: 'gray.dark',
              radius: 14,
            },
            tint: 'gray.light',
          },
          {
            type: 'icon',
            id: 'icon-node-a',
            source: 'device',
            size: 30,
            placement: 'left-top',
            margin: { left: 4, top: 4 },
            tint: 'primary.default',
          },
          {
            type: 'text',
            id: 'text-node-a-title',
            text: 'Node A',
            placement: 'left-top',
            margin: { left: 44, top: 6 },
            style: { fontSize: 16, fill: 'black' },
          },
          {
            type: 'text',
            id: 'text-node-a-status',
            text: 'Stable',
            placement: 'left-bottom',
            margin: { left: 44, bottom: 8 },
            style: { fontSize: 12, fill: 'gray.dark' },
          },
          {
            type: 'text',
            id: 'text-node-a-metric',
            text: 'Latency 18ms',
            placement: 'right-bottom',
            margin: { right: 12, bottom: 8 },
            style: { fontSize: 12, fill: 'gray.dark' },
          },
          {
            type: 'bar',
            id: 'bar-node-a',
            source: { type: 'rect', fill: 'primary.default', radius: 6 },
            size: { width: '35%', height: 10 },
            placement: 'bottom',
            margin: { left: 12, right: 12, bottom: 30 },
          },
        ],
        attrs: { x: 0, y: 0 },
      },
      {
        type: 'item',
        id: 'node-b',
        label: 'Node B',
        size: { width: 180, height: 110 },
        padding: { x: 12, y: 10 },
        components: [
          {
            type: 'background',
            id: 'bg-node-b',
            source: {
              type: 'rect',
              fill: 'white',
              borderWidth: 2,
              borderColor: 'gray.dark',
              radius: 14,
            },
            tint: 'gray.light',
          },
          {
            type: 'icon',
            id: 'icon-node-b',
            source: 'wifi',
            size: 30,
            placement: 'left-top',
            margin: { left: 4, top: 4 },
            tint: 'primary.default',
          },
          {
            type: 'text',
            id: 'text-node-b-title',
            text: 'Node B',
            placement: 'left-top',
            margin: { left: 44, top: 6 },
            style: { fontSize: 16, fill: 'black' },
          },
          {
            type: 'text',
            id: 'text-node-b-status',
            text: 'Stable',
            placement: 'left-bottom',
            margin: { left: 44, bottom: 8 },
            style: { fontSize: 12, fill: 'gray.dark' },
          },
          {
            type: 'text',
            id: 'text-node-b-metric',
            text: 'Latency 22ms',
            placement: 'right-bottom',
            margin: { right: 12, bottom: 8 },
            style: { fontSize: 12, fill: 'gray.dark' },
          },
          {
            type: 'bar',
            id: 'bar-node-b',
            source: { type: 'rect', fill: 'primary.default', radius: 6 },
            size: { width: '44%', height: 10 },
            placement: 'bottom',
            margin: { left: 12, right: 12, bottom: 30 },
          },
        ],
        attrs: { x: 240, y: 0 },
      },
      {
        type: 'item',
        id: 'node-c',
        label: 'Node C',
        size: { width: 180, height: 110 },
        padding: { x: 12, y: 10 },
        components: [
          {
            type: 'background',
            id: 'bg-node-c',
            source: {
              type: 'rect',
              fill: 'white',
              borderWidth: 2,
              borderColor: 'gray.dark',
              radius: 14,
            },
            tint: 'gray.light',
          },
          {
            type: 'icon',
            id: 'icon-node-c',
            source: 'edge',
            size: 30,
            placement: 'left-top',
            margin: { left: 4, top: 4 },
            tint: 'primary.default',
          },
          {
            type: 'text',
            id: 'text-node-c-title',
            text: 'Node C',
            placement: 'left-top',
            margin: { left: 44, top: 6 },
            style: { fontSize: 16, fill: 'black' },
          },
          {
            type: 'text',
            id: 'text-node-c-status',
            text: 'Stable',
            placement: 'left-bottom',
            margin: { left: 44, bottom: 8 },
            style: { fontSize: 12, fill: 'gray.dark' },
          },
          {
            type: 'text',
            id: 'text-node-c-metric',
            text: 'Latency 30ms',
            placement: 'right-bottom',
            margin: { right: 12, bottom: 8 },
            style: { fontSize: 12, fill: 'gray.dark' },
          },
          {
            type: 'bar',
            id: 'bar-node-c',
            source: { type: 'rect', fill: 'primary.default', radius: 6 },
            size: { width: '52%', height: 10 },
            placement: 'bottom',
            margin: { left: 12, right: 12, bottom: 30 },
          },
        ],
        attrs: { x: 0, y: 150 },
      },
      {
        type: 'item',
        id: 'node-d',
        label: 'Node D',
        size: { width: 180, height: 110 },
        padding: { x: 12, y: 10 },
        components: [
          {
            type: 'background',
            id: 'bg-node-d',
            source: {
              type: 'rect',
              fill: 'white',
              borderWidth: 2,
              borderColor: 'gray.dark',
              radius: 14,
            },
            tint: 'gray.light',
          },
          {
            type: 'icon',
            id: 'icon-node-d',
            source: 'combiner',
            size: 30,
            placement: 'left-top',
            margin: { left: 4, top: 4 },
            tint: 'primary.default',
          },
          {
            type: 'text',
            id: 'text-node-d-title',
            text: 'Node D',
            placement: 'left-top',
            margin: { left: 44, top: 6 },
            style: { fontSize: 16, fill: 'black' },
          },
          {
            type: 'text',
            id: 'text-node-d-status',
            text: 'Stable',
            placement: 'left-bottom',
            margin: { left: 44, bottom: 8 },
            style: { fontSize: 12, fill: 'gray.dark' },
          },
          {
            type: 'text',
            id: 'text-node-d-metric',
            text: 'Latency 26ms',
            placement: 'right-bottom',
            margin: { right: 12, bottom: 8 },
            style: { fontSize: 12, fill: 'gray.dark' },
          },
          {
            type: 'bar',
            id: 'bar-node-d',
            source: { type: 'rect', fill: 'primary.default', radius: 6 },
            size: { width: '38%', height: 10 },
            placement: 'bottom',
            margin: { left: 12, right: 12, bottom: 30 },
          },
        ],
        attrs: { x: 240, y: 150 },
      },
    ],
  },
  {
    type: 'relations',
    id: 'rel-mesh',
    links: [
      { source: 'node-a', target: 'node-b' },
      { source: 'node-b', target: 'node-d' },
      { source: 'node-a', target: 'node-c' },
    ],
    style: { width: 2, color: 'gray.dark' },
  },
];

export const exampleMeshLab = {
  id: 'mesh-lab',
  name: 'Example 2',
  description: '',
  data: () => clone(meshData),
  focusId: 'node-b',
  dynamic: {
    bars: [
      {
        id: 'bar-node-a',
        textId: 'text-node-a-metric',
        label: 'Latency',
        min: 10,
        max: 90,
        height: 10,
      },
      {
        id: 'bar-node-b',
        textId: 'text-node-b-metric',
        label: 'Latency',
        min: 10,
        max: 90,
        height: 10,
      },
      {
        id: 'bar-node-c',
        textId: 'text-node-c-metric',
        label: 'Latency',
        min: 10,
        max: 90,
        height: 10,
      },
      {
        id: 'bar-node-d',
        textId: 'text-node-d-metric',
        label: 'Latency',
        min: 10,
        max: 90,
        height: 10,
      },
    ],
    statuses: [
      {
        backgroundId: 'bg-node-a',
        iconId: 'icon-node-a',
        textId: 'text-node-a-status',
        ok: {
          tint: 'gray.light',
          icon: 'device',
          iconTint: 'primary.default',
          text: 'Stable',
          textTint: 'gray.dark',
        },
        alert: {
          tint: 'primary.accent',
          icon: 'warning',
          iconTint: 'primary.accent',
          text: 'Packet Loss',
          textTint: 'primary.accent',
        },
      },
      {
        backgroundId: 'bg-node-b',
        iconId: 'icon-node-b',
        textId: 'text-node-b-status',
        ok: {
          tint: 'gray.light',
          icon: 'wifi',
          iconTint: 'primary.default',
          text: 'Stable',
          textTint: 'gray.dark',
        },
        alert: {
          tint: 'primary.accent',
          icon: 'warning',
          iconTint: 'primary.accent',
          text: 'Congested',
          textTint: 'primary.accent',
        },
      },
      {
        backgroundId: 'bg-node-c',
        iconId: 'icon-node-c',
        textId: 'text-node-c-status',
        ok: {
          tint: 'gray.light',
          icon: 'edge',
          iconTint: 'primary.default',
          text: 'Stable',
          textTint: 'gray.dark',
        },
        alert: {
          tint: 'primary.accent',
          icon: 'warning',
          iconTint: 'primary.accent',
          text: 'Jitter',
          textTint: 'primary.accent',
        },
      },
      {
        backgroundId: 'bg-node-d',
        iconId: 'icon-node-d',
        textId: 'text-node-d-status',
        ok: {
          tint: 'gray.light',
          icon: 'combiner',
          iconTint: 'primary.default',
          text: 'Stable',
          textTint: 'gray.dark',
        },
        alert: {
          tint: 'primary.accent',
          icon: 'warning',
          iconTint: 'primary.accent',
          text: 'Overloaded',
          textTint: 'primary.accent',
        },
      },
    ],
    relationsId: 'rel-mesh',
    linkSets: [
      [
        { source: 'node-a', target: 'node-b' },
        { source: 'node-b', target: 'node-d' },
        { source: 'node-a', target: 'node-c' },
      ],
      [
        { source: 'node-c', target: 'node-b' },
        { source: 'node-b', target: 'node-a' },
        { source: 'node-d', target: 'node-c' },
      ],
      [
        { source: 'node-a', target: 'node-d' },
        { source: 'node-d', target: 'node-b' },
        { source: 'node-b', target: 'node-c' },
      ],
    ],
  },
};
